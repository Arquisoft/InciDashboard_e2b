/*C21*/SET SCHEMA PUBLIC
alter table campos drop constraint FKr5585ootkwdgg7uh7c1nbe5dx
alter table comentario drop constraint FKqqedliv3jje8wxak5s3cgka4b
alter table incidencia drop constraint FKje8us7wpq31enk5rmy5ujmb70
alter table incidencia drop constraint FKawirwu01ne9f0h7k4wq4s51hi
alter table tags drop constraint FKm2gy1cn8wjy52dvo09o1oyha0
drop table campos if exists
drop table comentario if exists
drop table coordenadas if exists
drop table incidencia if exists
drop table tags if exists
drop table user if exists
create table campos (incidencia_id bigint not null, value varchar(255), key varchar(255) not null, primary key (incidencia_id, key))
create table comentario (id bigint generated by default as identity (start with 1), texto varchar(255), incidencia_id bigint, primary key (id))
create table coordenadas (id bigint generated by default as identity (start with 1), latitud double not null, longitud double not null, primary key (id))
create table incidencia (id bigint generated by default as identity (start with 1), caducidad date, danger boolean not null, descripcion varchar(255), estado integer, nombre varchar(255), nombre_usuario varchar(255), coordenadas_id bigint, user_id bigint, primary key (id))
create table tags (incidencia_id bigint not null, etiquetas varchar(255))
create table user (id bigint generated by default as identity (start with 1), email varchar(255), name varchar(255), password varchar(255), primary key (id))
alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
alter table campos add constraint FKr5585ootkwdgg7uh7c1nbe5dx foreign key (incidencia_id) references incidencia
alter table comentario add constraint FKqqedliv3jje8wxak5s3cgka4b foreign key (incidencia_id) references incidencia
alter table incidencia add constraint FKje8us7wpq31enk5rmy5ujmb70 foreign key (coordenadas_id) references coordenadas
alter table incidencia add constraint FKawirwu01ne9f0h7k4wq4s51hi foreign key (user_id) references user
alter table tags add constraint FKm2gy1cn8wjy52dvo09o1oyha0 foreign key (incidencia_id) references incidencia
INSERT INTO USER VALUES(1,'pedro@example.com','Pedro','$2a$10$WLUaUdpgWRtV1exUcRgdV.Kk57jlmiGDOCefOdZjUMioRmPX1z.nW')
COMMIT
INSERT INTO USER VALUES(2,'maria@example.com','Mar\u00eda','$2a$10$mz.k5KpuOB5W.MQhCk1o2uu7RCfe6V00PrHlClJ7OsbnnfKTWiWeC')
COMMIT
INSERT INTO COORDENADAS VALUES(1,43.3616142E0,-5.8506767E0)
COMMIT
INSERT INTO COORDENADAS VALUES(2,43.3579649E0,-5.8733862E0)
COMMIT
INSERT INTO INCIDENCIA VALUES(1,'2018-04-23',TRUE,'Temperaturas por encima de 40 grados',0,'Incidencia en el bosque','Sandra',1,1)
INSERT INTO CAMPOS VALUES(1,'50','temp')
INSERT INTO CAMPOS VALUES(1,'20','wspeed')
INSERT INTO TAGS VALUES(1,'Temperatura Alta')
INSERT INTO TAGS VALUES(1,'Bosque')
COMMIT
INSERT INTO INCIDENCIA VALUES(2,'2018-04-23',TRUE,'R\u00edo desbord\u00e1ndose',0,'Incidencia en el r\u00edo','Juan',2,2)
INSERT INTO CAMPOS VALUES(2,'-8','temp')
INSERT INTO TAGS VALUES(2,'R\u00edo')
INSERT INTO TAGS VALUES(2,'Desbordamiento')
COMMIT
INSERT INTO INCIDENCIA VALUES(3,'2018-04-23',FALSE,'Tronco ca\u00eddo',0,'Incidencia en el bosque oeste','Sandra',1,1)
INSERT INTO CAMPOS VALUES(3,'22','temp')
INSERT INTO CAMPOS VALUES(3,'24','wspeed')
INSERT INTO TAGS VALUES(3,'Obst\u00e1culo')
INSERT INTO TAGS VALUES(3,'Bosque')
COMMIT
INSERT INTO COMENTARIO VALUES(1,'Huele a quemado',1)
COMMIT
INSERT INTO COMENTARIO VALUES(2,'Veo humo',1)
COMMIT
INSERT INTO COMENTARIO VALUES(3,'Inundaci\u00f3n',2)
COMMIT
INSERT INTO USER VALUES(3,'raul1@gmail.com','RaulAA','$2a$10$t87syyrVCEV/KI.SFOxnd.dq5zrzG3bhmziD4eA3/Q9TWqUVdZpom')
COMMIT
INSERT INTO COORDENADAS VALUES(3,8.383333E0,-97.866667E0)
COMMIT
INSERT INTO INCIDENCIA VALUES(4,'2017-06-11',TRUE,'Se ha provocado un dsaf el monte Naranco',0,'Incendio','fsdaf',3,3)
INSERT INTO COMENTARIO VALUES(4,'He llegado y he visto un humo detr\u00e1s de unos arbustos, no pensaba que ser\u00eda un incendio',4)
INSERT INTO COMENTARIO VALUES(5,'Hemos llamado a la policia hace media hora y no han llegado todavia',4)
INSERT INTO CAMPOS VALUES(4,'42','temp')
INSERT INTO CAMPOS VALUES(4,'10','velocidad viento')
INSERT INTO TAGS VALUES(4,'Incendio')
INSERT INTO TAGS VALUES(4,'Bosque')
COMMIT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
